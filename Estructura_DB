CREATE DATABASE demo;

USE demo;

CREATE TABLE `administradores` (
  `idadmin` INT NOT NULL AUTO_INCREMENT,
  `documento` VARCHAR(45) NOT NULL,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `login` VARCHAR(45) NOT NULL,
  `password` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`idadmin`));

CREATE TABLE `clientes` (
  `id` INT(10) NOT NULL AUTO_INCREMENT,
  `documento` INT(10) NOT NULL,
  `empresa` VARCHAR(100) NULL,
  `nombres` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(45) NOT NULL,
  `correo` VARCHAR(45) NULL,
  `direccion` VARCHAR(45) NULL,
  PRIMARY KEY (`id`));



CREATE TABLE `compras` (
  `idcompras` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `cantidad` INT,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(45) NULL,
  PRIMARY KEY (`idcompras`));

CREATE TABLE `ingresos` (
  `idingresos` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `cantidad` INT NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(45) NULL,
  PRIMARY KEY (`idingresos`));

CREATE TABLE `creditos` (
  `idcreditos` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(10) NULL,
  `idclientes` INT NOT NULL,
  PRIMARY KEY (`idcreditos`));

CREATE TABLE `productos` (
  `idproductos` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `nombre` VARCHAR(100) NOT NULL,
  `disponible` MEDIUMINT(10) NULL DEFAULT 0,
  `valor` varchar(45) NULL,
  PRIMARY KEY (`idproductos`));

CREATE TABLE `estadoCompras` (
  `idestado` INT NOT NULL AUTO_INCREMENT,
  `cantidad` INT NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(10) NOT NULL,
  `fecha` DATE NOT NULL,
  PRIMARY KEY (`idestado`));

CREATE TABLE `estadoCuentas` (
  `idescuentas` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `cantidad` INT(10) NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(10) NOT NULL,
  `idestado` INT NOT NULL,
  PRIMARY KEY (`idescuentas`, `idestado`));

  CREATE TABLE `pedidos` (
  `pedido_id` INT NOT NULL AUTO_INCREMENT,
  `cliente_id` INT NOT NULL,
  `nombre_pedido` VARCHAR(45) NULL,
  `t_costo` VARCHAR(45) NULL,
  `t_cobrado` VARCHAR(45) NULL,
  `fecha` DATE NULL,
  `estado` INT NOT NULL,
  PRIMARY KEY (`pedido_id`, `cliente_id`));

CREATE TABLE `pedidoProductos` (
  `peproducto_id` INT NOT NULL AUTO_INCREMENT,
  `producto` VARCHAR(100) NULL,
  `valoru` VARCHAR(10) NULL,
  `cantidad` VARCHAR(10) NULL,
  `valort` VARCHAR(10) NULL,
  `pedido_id` INT NOT NULL,
  `cliente_id` INT NOT NULL,
  `producto_id` INT NOT NULL,
  PRIMARY KEY (`peproducto_id`));

CREATE TABLE `variables` (
  `variable_id` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `detalle` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`variable_id`)
)


//Configuracion Básica para Cuenta de Cobro
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('1', 'empresa', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('2', 'identificacion', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('3', 'tipo_identificacion', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('4', 'forma_de_pago', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('5', 'lugar_expedicion', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('6', 'cel', '');
INSERT INTO variables (variable_id, nombre, detalle) VALUES ('7', 'tel', '');



INSERT INTO administradores (idadmin, documento, nombre, apellido, login, password) VALUES ('1', '123456789', 'Usuario', 'Inicial', 'usuario', '401cec94d3ed586d8cb895c10c0f7db6');

//ACTUALIZACIÓN PENDIENTE EN TABLA DE CLIENTES PARA QUE APAREZCAN MAS EN LA TABLA
ALTER TABLE `clientes` 
ADD COLUMN `empresa` VARCHAR(100) NULL AFTER `correo`,
ADD COLUMN `direccion` VARCHAR(100) NULL AFTER `empresa`;

ALTER TABLE `administradores` 
CHANGE COLUMN `password` `contrasena` VARCHAR(200) NOT NULL ;



