CREATE TABLE `sistema_contable`.`compras` (
  `idcompras` INT NOT NULL,
  `cantidad` INT NOT NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` MEDIUMINT(45) NULL,
  `fecha` DATE NOT NULL,
  PRIMARY KEY (`idcompras`));

CREATE TABLE `sistema_contable`.`administradores` (
  `idadmin` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `login` VARCHAR(45) NOT NULL,
  `contrasena` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idadmin`));

CREATE TABLE `sistema_contable`.`clientesxcreditos` (
  `idclientes` INT NOT NULL,
  `idcreditos` INT NOT NULL,
  PRIMARY KEY (`idclientes`, `idcreditos`),
  INDEX `idcreditos_idx` (`idcreditos` ASC),
  CONSTRAINT `id`
    FOREIGN KEY (`idclientes`)
    REFERENCES `sistema_contable`.`clientes` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `idcreditos`
    FOREIGN KEY (`idcreditos`)
    REFERENCES `sistema_contable`.`creditos` (`idcreditos`)
    ON DELETE CASCADE
    ON UPDATE CASCADE);

CREATE TABLE `sistema_contable`.`ingresos` (
  `idingresos` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `cantidad` INT NOT NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idingresos`));

  CREATE TABLE `sistema_contable`.`abonos` (
  `idabonos` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `detalles` VARCHAR(100) NOT NULL,
  `valor` MEDIUMINT NOT NULL,
  `idclientes` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`idabonos`, `idclientes`)
)
ENGINE = InnoDB;

CREATE TABLE `sistema_contable`.`estadoCompras` (
  `idestado` INT NOT NULL AUTO_INCREMENT,
  `cantidad` INT NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` MEDIUMINT(10) NOT NULL,
  `fecha` DATE NOT NULL,
  PRIMARY KEY (`idestado`));

CREATE TABLE `sistema_contable`.`estadoCuentas` (
  `idescuentas` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `cantidad` INT(10) NULL,
  `producto` VARCHAR(45) NOT NULL,
  `detalles` VARCHAR(100) NULL,
  `valor` MEDIUMINT(10) NOT NULL,
  `idestado` INT NOT NULL,
  PRIMARY KEY (`idescuentas`, `idestado`));

